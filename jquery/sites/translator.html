<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../styles/jquery.css" type="text/css">
    <title>Pragmatic HTML5 CSS3 - Wprowadzenie do biblioteki jQuery</title>
    <!--[if lt IE 9]>
    <script type="text/javascript" >
      document.createElement("nav" );
      document.createElement("header" );
      document.createElement("footer" );
      document.createElement("section" );
      document.createElement("aside" );
      document.createElement("article" );
    </script>
    <![endif]-->
    <script>
      // funkcja zamieniajaca znaki specjalne na ich kod.
      function translate() {
        // Pobranie kodu
        var zmienna = window.prompt("Wklej kod", '');
        //tablica kazdego elementu string kodu.
        var tab = zmienna.split('');
        // String wynikowy
        var str = "";
        //Zmienna pomocnicza 
        var str_tmp;
        // zmienna okreslajaca glebokosc zagniezdzenia.
        var count_deep = 0;
        var spac = '&amp;nbsp;';
        var t = "";
        /* Przechodzenie przez kazdy element kodu
        /* w celu zaminay elementow specjalnych.*/
        for (i = 0; i < tab.length; i++) {
          t = "";
          //jezeli jest spacja to zamiana na znak spacji
          if (tab[i] == " ") {
            tab[i] = '&amp;nbsp;';
          } else if(tab[i] == "<") {
            tab[i] = '&amp;lt;';//znak otwierajacy znacznika zamaina na odpowiedni kod
          } else if (tab[i] == ">") {
            tab[i] = "&amp;gt;";//znak zamykajacy znacznika zamaina na odpowiedni kod
          }else if (tab[i] == ";") {
            tab[i] = (tab[i] + "&lt;br />");
            for (var a = 0; a <= count_deep; a++){
              t = t + spac + spac;
            }
            tab[i] = (tab[i] + t);
          } else if (tab[i] == "{") {
            count_deep++;
            for (var a = 0; a <= count_deep; a++){
              t = t + spac + spac;
            }
            tab[i] = (tab[i] + "&lt;br />" + t);
          }//Koniec warunku
          else if (tab[i] == "}") {
            count_deep = count_deep -1;
            for (var a=0; a <= count_deep; a++){
              t = t + spac + spac;
            }
            tab[i] = ("&lt;br />" + t + tab[i]);
          }//koniec warunku
          str = str + tab[i];
        }// koniec iteracji przez kod.
        document.write(str);
        $('#main').append(str);
      }// Koniec funkcji translate
    </script>
  </head>
  <body>
  <section id="posts">
    <!-- Articles -->
      <article class="post">
        <header>
          <h2>Wprowadzenie do jQuery</h2>
        </header>
        
        <script type="text/javascript">
          translate();
        </script>
      </article>
      <div id="main">
      </div>
    </section>
  </body>
</html>